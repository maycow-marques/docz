import { Meta } from "@storybook/blocks";

<Meta title="Testes" />

# ðŸŒ Testando Componentes no Storybook

O Storybook permite testar **interaÃ§Ãµes nos componentes** usando a API `play()`, `userEvent` e `within` da **Testing Library**. Isso facilita a **validaÃ§Ã£o de comportamento** sem a necessidade de um ambiente externo.

## ðŸš€ Como Funciona?
Os testes sÃ£o definidos dentro do objeto `play()` dentro de cada **story**, permitindo **simular interaÃ§Ãµes e validar mudanÃ§as no estado do componente**.

### ðŸ” Teste de Clique em BotÃ£o
âœ… Esse teste localiza o botÃ£o dentro do Storybook e **simula um clique**.

```tsx
export const Interaction: Story = {
  args: {
    children: "Click Here",
    variant: "primary",
  },
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);
    await userEvent.click(canvas.getByRole("button", { name: "Click Here" }));
  },
};
```

#### ðŸŽ¯ **O que esse teste faz?**
  - Localiza o botÃ£o dentro do Storybook usando getByRole("button").
  - Simula um clique com userEvent.click().
  - Assegura que a interaÃ§Ã£o pode ser verificada no Storybook.

---

### ðŸ”¥ Outros Exemplos de Testes no Storybook
#### âœ¨ **Teste de Preenchimento de Input**
âœ… Simula um usuÃ¡rio digitando no campo de entrada.

```tsx
export const Interaction: Story = {
  args: {
    id: "name",
    placeholder: "Digite seu nome",
  },
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);
    const input = canvas.getByPlaceholderText("Digite seu nome");
    await userEvent.type(input, "JoÃ£o");
  },
};
```

#### ðŸ”„ **Teste de AlternÃ¢ncia (Toggle)**
âœ… Simula o usuÃ¡rio clicando em um switch para alternar entre dois estados.

```jsx
export const Interaction: Story = {
  args: {
    id: "terms",
    label: "Aceitar Termos",
  },
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);
    const toggle = canvas.getByLabelText("Aceitar Termos");
    await userEvent.click(toggle);
  },
};
```

## ðŸ“Œ Por que usar play() no Storybook?
1. âœ… Facilita testes visuais e interativos no ambiente do Storybook.
2. âœ… Simula o comportamento real do usuÃ¡rio sem precisar rodar um ambiente externo.
3. âœ… Integra-se bem com CI/CD para detectar problemas rapidamente.
4. âœ… Ajuda na documentaÃ§Ã£o interativa, permitindo validar interaÃ§Ãµes diretamente na UI.